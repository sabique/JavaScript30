<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Key Detection</title>
  <script type="text/javascript" src="http://www.cornify.com/js/cornify.js"></script>
</head>
<body>
  <div>type 'Sabique' to see magic!</div>
<script>
const secret = "sabique";
const input = [];
let foundSecret = false;

function recordKey(e){
  input.push(e.key);
  
  //Trim Array
  input.splice(-input.length, input.length - secret.length);

  if(input.join('').toLowerCase() === secret){
    foundSecret = true;
    unicornAttack();
  }
}

function unicornAttack() {
  cornify_add();
}

  window.addEventListener('keyup', (e) => { foundSecret ? unicornAttack() : recordKey(e) });
</script>
</body>
</html>
